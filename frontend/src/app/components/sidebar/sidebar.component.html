<nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
  <div class="container-fluid">

    <!-- Mobile toggler -->
    <button class="navbar-toggler" type="button" (click)="isCollapsed = !isCollapsed"
      aria-controls="sidenav-collapse-main">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Brand -->
    <a class="navbar-brand pt-0" routerLink="/dashboard">
      <img src="assets/img/brand/logoDelivery.png" class="navbar-logo" alt="Logo">
    </a>


    <!-- MOBILE TOP RIGHT USER DROPDOWN -->
    <ul class="nav align-items-center d-md-none">

      <!-- Notificaciones -->
      <li class="nav-item d-md-none">
        <app-notification-dropdown></app-notification-dropdown>
      </li>

      <!-- Usuario -->
      <li class="nav-item" ngbDropdown placement="bottom-right">
        <a class="nav-link" role="button" ngbDropdownToggle>
          <div class="media align-items-center">
            <span class="avatar avatar-sm rounded-circle">
              <img alt="User photo" 
                  [src]="photoURL || defaultAvatar">
            </span>
          </div>
        </a>

        <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow" ngbDropdownMenu>
          <div class="dropdown-header noti-title">
            <h6 class="text-overflow m-0">Hola {{ userName }}</h6>
          </div>

          <div class="dropdown-divider"></div>

          <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
            <i class="ni ni-user-run"></i>
            <span>Cerrar Session</span>
          </a>
        </div>
      </li>
    </ul>


    <!-- COLLAPSE SIDEBAR -->
    <div class="collapse navbar-collapse" id="sidenav-collapse-main" [ngbCollapse]="isCollapsed">

      <!-- Collapse header (mobile only) -->
      <div class="navbar-collapse-header d-md-none">
        <div class="row">
          <div class="col-6 collapse-brand">
            <a routerLink="/dashboard">
              <img src="assets/img/brand/blue.png">
            </a>
          </div>
          <div class="col-6 collapse-close">
            <button type="button" class="navbar-toggler" (click)="isCollapsed = !isCollapsed">
              <span></span>
              <span></span>
            </button>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <ul class="navbar-nav">
        <li *ngFor="let menuItem of menuItems" class="nav-item">
          <a routerLink="{{ menuItem.path }}" routerLinkActive="active" class="nav-link">
            <i class="ni {{ menuItem.icon }}"></i>
            {{ menuItem.title }}
          </a>
        </li>
      </ul>

    </div>

  </div>
</nav>
